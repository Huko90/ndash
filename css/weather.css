/* WEATHER DASHBOARD */
.weather-dash{display:flex;position:absolute;inset:0;flex-direction:column;gap:clamp(2px,0.4vh,6px);overflow:hidden;justify-content:flex-start;opacity:0;visibility:hidden;pointer-events:none;transition:opacity 0.25s ease;contain:layout style paint}
.weather-dash.active{position:relative;opacity:1;visibility:visible;pointer-events:auto;flex:1;min-height:0}
.weather-dash::before{content:'';position:absolute;inset:0;background:var(--weather-wallpaper) center center / cover no-repeat;opacity:var(--weather-image-opacity);pointer-events:none}
.weather-dash::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,rgba(6,7,11,0.36),rgba(6,7,11,0.48));pointer-events:none}
.weather-dash>*{position:relative;z-index:2;flex-shrink:1;min-height:0}
/* Current weather - hero section */
.weather-current{text-align:center;position:relative;flex:0 0 auto;padding:clamp(4px,0.7vh,10px);min-height:0;width:100%;box-sizing:border-box;background:linear-gradient(135deg,rgba(245,200,66,0.12),rgba(247,147,26,0.08));border-radius:clamp(6px,1vmin,14px);border:1px solid rgba(245,200,66,0.2);box-shadow:0 4px 20px rgba(245,200,66,0.15);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:clamp(3px,0.55vh,8px)}
.weather-location{display:inline-flex;align-items:center;gap:clamp(4px,0.7vw,8px);padding:clamp(2px,0.4vh,4px) clamp(6px,1vw,12px);border-radius:100px;background:rgba(245,200,66,0.15);border:1px solid rgba(245,200,66,0.25);font-size:clamp(14px,2.1vmin,22px);color:var(--gold);font-weight:600;letter-spacing:0.5px;text-transform:uppercase;margin-bottom:0;backdrop-filter:blur(10px);max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.weather-location .dot{width:clamp(3px,0.5vmin,5px);height:clamp(3px,0.5vmin,5px);border-radius:50%;background:var(--gold);box-shadow:0 0 12px rgba(245,200,66,0.8);animation:pulse 2s infinite}
.weather-temp-display{display:flex;align-items:baseline;justify-content:center;gap:clamp(2px,0.4vw,4px)}
.weather-temp-num{font-family:'JetBrains Mono',monospace;font-size:clamp(52px,10.5vmin,120px);font-weight:800;background:linear-gradient(135deg,#f5c842,#f7931a);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;letter-spacing:-2px;filter:drop-shadow(0 2px 20px rgba(245,200,66,0.4))}
.weather-temp-unit{font-size:clamp(22px,5.2vmin,52px);font-weight:400;color:rgba(245,200,66,0.4);line-height:1}
.weather-desc-row{display:flex;justify-content:center;align-items:center;gap:clamp(4px,0.8vw,10px);margin-top:0}
.weather-icon{font-size:clamp(28px,6.2vmin,58px);filter:drop-shadow(0 2px 8px rgba(245,200,66,0.4))}
.weather-desc{font-size:clamp(14px,2.8vmin,26px);font-weight:600;color:var(--hi);text-transform:capitalize;letter-spacing:0.2px}
.weather-feels{font-size:clamp(12px,2vmin,18px);color:var(--mid);margin-top:0;font-weight:500}
/* Weather stats grid */
.weather-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:clamp(2px,0.4vw,6px);flex-shrink:1}
.weather-stat{background:var(--card);backdrop-filter:blur(10px);padding:clamp(3px,0.6vh,10px) clamp(2px,0.4vw,8px);text-align:center;border-radius:clamp(5px,0.8vmin,10px);border:1px solid var(--border);transition:all .3s;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
.weather-stat:hover{transform:translateY(-2px);border-color:rgba(245,200,66,0.25);box-shadow:0 4px 16px rgba(245,200,66,0.12);background:rgba(245,200,66,0.04)}
.ws-icon{font-size:clamp(12px,2.4vmin,20px);margin-bottom:clamp(1px,0.3vh,4px);filter:drop-shadow(0 2px 4px rgba(245,200,66,0.2))}
.ws-label{font-size:clamp(5px,1vmin,9px);text-transform:uppercase;letter-spacing:0.8px;color:var(--dim);font-weight:700;margin-bottom:clamp(1px,0.3vh,4px)}
.ws-value{font-family:'JetBrains Mono',monospace;font-size:clamp(8px,1.5vmin,14px);font-weight:700;color:var(--hi)}
.ws-sub{font-size:clamp(6px,1.1vmin,10px);color:var(--mid);margin-top:clamp(1px,0.2vh,2px);font-weight:500}
/* Sun times */
.sun-row{display:grid;grid-template-columns:repeat(3,1fr);gap:clamp(2px,0.4vw,6px);flex-shrink:1}
.sun-item{display:flex;align-items:center;justify-content:space-between;padding:clamp(3px,0.6vh,8px) clamp(4px,0.8vw,12px);background:linear-gradient(135deg,rgba(251,191,36,0.08),rgba(245,158,11,0.05));border:1px solid rgba(251,191,36,0.15);border-radius:clamp(5px,0.8vmin,10px);backdrop-filter:blur(10px);transition:all .3s;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
.sun-item:hover{transform:translateY(-2px);border-color:rgba(251,191,36,0.25);box-shadow:0 4px 16px rgba(251,191,36,0.15)}
.sun-label{font-size:clamp(6px,1.1vmin,10px);text-transform:uppercase;letter-spacing:0.5px;color:rgba(251,191,36,0.8);font-weight:700;display:flex;align-items:center;gap:clamp(2px,0.4vw,6px)}
.sun-val{font-family:'JetBrains Mono',monospace;font-size:clamp(7px,1.3vmin,12px);font-weight:700;color:var(--hi)}
/* Today temperature range */
.today-row{display:flex;align-items:center;gap:clamp(4px,0.8vw,10px);padding:clamp(3px,0.6vh,8px) clamp(5px,0.9vw,12px);background:var(--card);border:1px solid var(--border);border-radius:clamp(5px,0.8vmin,10px);flex-shrink:1;backdrop-filter:blur(10px);box-shadow:0 2px 8px rgba(0,0,0,0.05)}
.today-label{font-size:clamp(6px,1.1vmin,10px);text-transform:uppercase;letter-spacing:0.8px;color:var(--dim);font-weight:700;white-space:nowrap}
.today-track{flex:1;height:clamp(5px,0.9vh,8px);background:linear-gradient(90deg,#3b82f6,#06b6d4,#22c55e,#eab308,#f97316,#ef4444);border-radius:clamp(4px,0.7vmin,8px);position:relative;box-shadow:inset 0 2px 4px rgba(0,0,0,0.15),0 2px 8px rgba(245,200,66,0.15)}
.today-marker{position:absolute;top:clamp(-2px,-0.4vh,-3px);width:clamp(2px,0.4vmin,4px);height:clamp(9px,1.6vh,14px);background:#fff;border-radius:clamp(2px,0.3vmin,3px);transition:left 1s;box-shadow:0 2px 8px rgba(0,0,0,0.4),0 0 0 2px rgba(245,200,66,0.3)}
.today-vals{display:flex;gap:clamp(6px,1.2vw,14px);font-family:'JetBrains Mono',monospace;font-size:clamp(7px,1.3vmin,12px);font-weight:700}
.today-low{color:#3b82f6}.today-high{color:#ef4444}
/* Hourly + Day Detail split */
.hourly-detail-row{display:flex;gap:clamp(3px,0.5vw,8px);flex:1;min-height:0}
/* Hourly + 7-day in left column */
.hourly-section{position:relative;flex:1.3;min-height:0;display:flex;flex-direction:column;overflow:hidden;gap:clamp(2px,0.4vh,6px)}
.hourly-forecast-part{flex:1;min-height:0;display:flex;flex-direction:column}
.hourly-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:clamp(1px,0.3vh,4px);flex-shrink:0}
.hourly-title{font-size:clamp(5px,0.9vmin,9px);color:var(--dim);font-weight:700;letter-spacing:1px;text-transform:uppercase}
.hourly-wrap{flex:1;min-height:0;border-radius:clamp(6px,1vmin,12px);background:var(--card);border:1px solid var(--border);overflow:hidden;backdrop-filter:blur(10px);box-shadow:0 2px 12px rgba(0,0,0,0.05);-webkit-mask-image:linear-gradient(90deg,transparent,black 5%,black 95%,transparent);mask-image:linear-gradient(90deg,transparent,black 5%,black 95%,transparent)}
.hourly-scroll{display:flex;gap:0;overflow-x:auto;height:100%;scrollbar-width:thin;-ms-overflow-style:auto;padding:clamp(1px,0.3vh,3px)}
.hourly-scroll::-webkit-scrollbar{height:clamp(2px,0.4vh,4px)}
.hourly-scroll::-webkit-scrollbar-track{background:rgba(255,255,255,0.03)}
.hourly-scroll::-webkit-scrollbar-thumb{background:rgba(245,200,66,0.3);border-radius:clamp(2px,0.3vmin,3px)}
.hourly-item{flex:1;min-width:clamp(24px,4.5vw,40px);padding:clamp(2px,0.5vh,6px) clamp(1px,0.3vw,4px);display:flex;flex-direction:column;align-items:center;justify-content:space-between;border-right:1px solid var(--border);transition:all .2s;border-radius:clamp(3px,0.5vmin,6px)}
.hourly-item:hover{background:rgba(245,200,66,0.08);transform:translateY(-2px)}
.hourly-item:last-child{border-right:none}
.hourly-time{font-size:clamp(5px,0.9vmin,9px);color:var(--dim);font-weight:700;letter-spacing:0.3px}
.hourly-icon{font-size:clamp(10px,2.2vmin,20px);margin:clamp(1px,0.3vh,4px) 0;filter:drop-shadow(0 2px 4px rgba(245,200,66,0.2))}
.hourly-temp{font-family:'JetBrains Mono',monospace;font-size:clamp(7px,1.2vmin,11px);font-weight:800;color:var(--hi)}
.hourly-precip{font-size:clamp(4px,0.8vmin,8px);color:#3b82f6;font-weight:600}
/* 7-day forecast in left column */
.forecast-section-left{position:relative;flex:1;min-height:0;display:flex;flex-direction:column}
.forecast-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:clamp(2px,0.4vh,5px)}
.forecast-title{font-size:clamp(6px,1vmin,10px);color:var(--dim);font-weight:700;letter-spacing:1px;text-transform:uppercase}
.forecast-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;flex:1;padding:0;background:var(--border);border:1px solid var(--border);border-radius:clamp(6px,1vmin,12px);backdrop-filter:blur(10px);box-shadow:0 2px 12px rgba(0,0,0,0.05);overflow:hidden}
.forecast-day{background:rgba(255,255,255,0.025);padding:clamp(3px,0.6vh,10px) clamp(2px,0.4vw,6px);text-align:center;cursor:pointer;transition:all .3s;display:flex;flex-direction:column;justify-content:space-between;backdrop-filter:blur(6px);contain:layout style}
.forecast-day:hover{background:rgba(245,200,66,0.08);transform:scale(1.02)}
.forecast-day.active{background:rgba(245,200,66,0.14);box-shadow:inset 0 0 0 1px rgba(245,200,66,0.32);transform:scale(1.02)}
.fd-name{font-size:clamp(7px,1.2vmin,11px);font-weight:800;letter-spacing:.3px;color:var(--mid);margin-bottom:clamp(2px,0.5vh,6px);text-transform:uppercase}
.fd-icon{font-size:clamp(16px,3.2vmin,28px);margin-bottom:clamp(2px,0.5vh,6px);filter:drop-shadow(0 2px 6px rgba(245,200,66,0.2))}
.fd-temps{display:flex;flex-direction:column;gap:clamp(1px,0.2vh,2px)}
.fd-high{font-family:'JetBrains Mono',monospace;font-size:clamp(9px,1.6vmin,14px);font-weight:800;color:var(--hi)}
.fd-low{font-family:'JetBrains Mono',monospace;font-size:clamp(7px,1.3vmin,11px);font-weight:600;color:var(--dim)}
.fd-precip{font-size:clamp(6px,1.1vmin,9px);color:#3b82f6;margin-top:clamp(1px,0.3vh,4px);font-weight:600}
/* Day Detail Panel */
.day-detail{flex:1;min-height:0;display:flex;flex-direction:column;overflow:hidden}
.day-detail-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:clamp(1px,0.3vh,4px);flex-shrink:0}
.day-detail-title{font-size:clamp(5px,0.9vmin,9px);color:var(--dim);font-weight:700;letter-spacing:1px;text-transform:uppercase}
.day-detail-wrap{flex:1;min-height:0;border-radius:clamp(6px,1vmin,12px);background:var(--card);border:1px solid var(--border);overflow:hidden;padding:clamp(4px,0.9vh,12px) clamp(4px,0.8vw,12px);display:flex;flex-direction:column;gap:clamp(4px,0.9vh,10px);backdrop-filter:blur(10px);box-shadow:0 4px 20px rgba(0,0,0,0.1)}
.day-detail-top{display:flex;align-items:center;gap:clamp(6px,1.2vw,14px);padding-bottom:clamp(3px,0.6vh,8px);border-bottom:1px solid var(--border)}
.day-detail-icon{font-size:clamp(24px,5.5vmin,52px);filter:drop-shadow(0 4px 12px rgba(245,200,66,0.3))}
.day-detail-main{display:flex;flex-direction:column;gap:clamp(1px,0.3vh,4px)}
.day-detail-day{font-size:clamp(10px,1.9vmin,16px);font-weight:800;color:var(--hi);letter-spacing:0.3px}
.day-detail-desc{font-size:clamp(7px,1.2vmin,11px);color:var(--mid);text-transform:capitalize;font-weight:600}
.day-detail-temps{display:flex;gap:clamp(6px,1.2vw,14px);margin-top:clamp(1px,0.4vh,5px)}
.day-detail-temps span{font-family:'JetBrains Mono',monospace;font-size:clamp(9px,1.7vmin,15px);font-weight:800}
.day-detail-temps .high{color:var(--red)}
.day-detail-temps .low{color:#3b82f6}
.day-detail-summary{font-size:clamp(6px,1.1vmin,10px);color:var(--mid);line-height:1.5;padding:clamp(4px,0.8vh,10px);background:rgba(255,255,255,0.02);border-radius:clamp(4px,0.7vmin,8px);border-left:3px solid rgba(245,200,66,0.3);font-weight:500;letter-spacing:0.2px}
.day-detail-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:clamp(3px,0.6vh,8px) clamp(4px,0.9vw,12px)}
.day-detail-stat{display:flex;justify-content:space-between;align-items:center;padding:clamp(3px,0.5vh,6px) clamp(4px,0.7vw,10px);background:rgba(255,255,255,0.02);border-radius:clamp(4px,0.7vmin,8px);border:1px solid var(--border);transition:all .2s}
.day-detail-stat:hover{background:rgba(245,200,66,0.05);border-color:rgba(245,200,66,0.15);transform:translateX(2px)}
.day-detail-stat{animation:detailFadeIn 0.3s ease backwards}
.day-detail-stat:nth-child(1){animation-delay:0s}.day-detail-stat:nth-child(2){animation-delay:0.03s}.day-detail-stat:nth-child(3){animation-delay:0.06s}.day-detail-stat:nth-child(4){animation-delay:0.09s}.day-detail-stat:nth-child(5){animation-delay:0.12s}.day-detail-stat:nth-child(6){animation-delay:0.15s}.day-detail-stat:nth-child(7){animation-delay:0.18s}.day-detail-stat:nth-child(8){animation-delay:0.21s}
@keyframes detailFadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}
.day-detail-stat-label{font-size:clamp(5px,0.9vmin,9px);color:var(--dim);text-transform:uppercase;letter-spacing:0.5px;font-weight:700}
.day-detail-stat-val{font-family:'JetBrains Mono',monospace;font-size:clamp(7px,1.2vmin,11px);font-weight:800;color:var(--hi)}
/* Responsive */
@media(max-width:500px){.weather-stats{grid-template-columns:repeat(2,1fr)}.sun-row{grid-template-columns:1fr}}
@media (max-width: 600px){
  .weather-current{padding:clamp(4px,0.7vh,9px)}
  .weather-location{font-size:clamp(10px,2.2vw,14px)}
  .weather-temp-num{font-size:clamp(34px,9vw,62px)}
  .weather-temp-unit{font-size:clamp(14px,4.2vw,24px)}
  .weather-icon{font-size:clamp(18px,5vw,30px)}
  .weather-desc{font-size:clamp(10px,2.4vw,15px)}
  .weather-feels{font-size:clamp(8px,2vw,12px)}
}
@media (max-width: 560px){
  .weather-dash{overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;padding-bottom:max(56px,calc(20px + env(safe-area-inset-bottom)))}
  .weather-current{padding:clamp(3px,0.55vh,7px)}
  .weather-location{font-size:clamp(9px,3.4vw,12px)}
  .weather-temp-num{font-size:clamp(30px,11vw,48px)}
  .weather-temp-unit{font-size:clamp(12px,4.8vw,20px)}
  .weather-icon{font-size:clamp(16px,6vw,24px)}
  .weather-desc{font-size:clamp(9px,3.2vw,12px)}
  .weather-feels{font-size:clamp(8px,2.8vw,10px)}
  .hourly-detail-row{flex-direction:column;flex:0 0 auto;gap:clamp(4px,0.8vh,8px)}
  .hourly-section,.day-detail{flex:0 0 auto;min-height:220px}
  .day-detail-wrap{overflow:auto}
}
/* Landscape mobile - compact layout */
@media (max-height:500px) and (max-width:600px){
  .weather-dash .weather-current{padding:clamp(3px,0.5vh,6px)}
  .weather-dash .weather-temp-num{font-size:clamp(24px,6.5vmin,46px)}
  .weather-dash .weather-temp-unit{font-size:clamp(10px,2.8vmin,18px)}
  .weather-dash .weather-location{font-size:clamp(8px,2.2vmin,12px)}
  .weather-dash .weather-stats{grid-template-columns:repeat(4,1fr)}
  .weather-dash .sun-row{display:none}
  .weather-dash .today-row{display:none}
  .weather-dash .hourly-detail-row{flex:1;min-height:0}
  .weather-dash .hourly-forecast-part{flex:0.6}
  .weather-dash .forecast-section-left{flex:0.4}
  .weather-dash .day-detail-summary{display:none}
  .weather-dash .day-detail-stats{grid-template-columns:repeat(2,1fr);gap:clamp(2px,0.4vh,4px) clamp(3px,0.6vw,8px)}
}
